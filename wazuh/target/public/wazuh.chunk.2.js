(window["wazuh_bundle_jsonpfunction"]=window["wazuh_bundle_jsonpfunction"]||[]).push([[2],{1734:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(1735);case"v7light":return __webpack_require__(1737);case"v8dark":return __webpack_require__(1739);case"v8light":return __webpack_require__(1741)}},1735:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(1736);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},1736:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'.kbnDocViewerTable {\n  margin-top: 8px; }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #FFF;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .dscFieldName {\n  color: #98A2B3; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 60px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n\n.kbnDocViewer__actionButton {\n  opacity: 0; }\n  .kbnDocViewer__actionButton:focus {\n    opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},1737:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(1738);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},1738:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'.kbnDocViewerTable {\n  margin-top: 8px; }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #000;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .dscFieldName {\n  color: #69707D; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 60px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n\n.kbnDocViewer__actionButton {\n  opacity: 0; }\n  .kbnDocViewer__actionButton:focus {\n    opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},1739:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(1740);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},1740:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'.kbnDocViewerTable {\n  margin-top: 8px; }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #FFF;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .dscFieldName {\n  color: #98A2B3; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 60px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n\n.kbnDocViewer__actionButton {\n  opacity: 0; }\n  .kbnDocViewer__actionButton:focus {\n    opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},1741:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(1742);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},1742:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'.kbnDocViewerTable {\n  margin-top: 8px; }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #000;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .dscFieldName {\n  color: #69707D; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 60px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n\n.kbnDocViewer__actionButton {\n  opacity: 0; }\n  .kbnDocViewer__actionButton:focus {\n    opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},213:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MAX_CONTEXT_SIZE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return MIN_CONTEXT_SIZE}));__webpack_require__.d(__webpack_exports__,"c",(function(){return QUERY_PARAMETER_KEYS}));var _state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(455);var MAX_CONTEXT_SIZE=1e4;var MIN_CONTEXT_SIZE=0;var QUERY_PARAMETER_KEYS=Object.keys(Object(_state__WEBPACK_IMPORTED_MODULE_0__["a"])())},454:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createDocViewerDirective}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _components_doc_viewer_doc_viewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(733);function createDocViewerDirective(reactDirective){return reactDirective((function(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_doc_viewer_doc_viewer__WEBPACK_IMPORTED_MODULE_1__["a"],props)}),["hit",["indexPattern",{watchDepth:"reference"}],["filter",{watchDepth:"reference"}],["columns",{watchDepth:"collection"}],["onAddColumn",{watchDepth:"reference"}],["onRemoveColumn",{watchDepth:"reference"}]],{restrict:"E",scope:{hit:"=",indexPattern:"=",filter:"=?",columns:"=?",onAddColumn:"=?",onRemoveColumn:"=?"}})}},455:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createInitialQueryParametersState}));function createInitialQueryParametersState(){var defaultStepSize=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;var tieBreakerField=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"_doc";return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},688:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getFirstSortableField}));__webpack_require__.d(__webpack_exports__,"b",(function(){return reverseSortDir}));var SortDirection;(function(SortDirection){SortDirection["asc"]="asc";SortDirection["desc"]="desc"})(SortDirection||(SortDirection={}));var META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){var sortableFields=fieldNames.filter((function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.getByName(fieldName)||{sortable:false}).sortable}));return sortableFields[0]}function reverseSortDir(sortDirection){return sortDirection===SortDirection.asc?SortDirection.desc:SortDirection.asc}},689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return popularizeField}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function popularizeField(_x,_x2,_x3){return _popularizeField.apply(this,arguments)}function _popularizeField(){_popularizeField=_asyncToGenerator(regeneratorRuntime.mark((function _callee(indexPattern,fieldName,indexPatternsService){var field;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(indexPattern.id){_context.next=2;break}return _context.abrupt("return");case 2:field=indexPattern.fields.getByName(fieldName);if(field){_context.next=5;break}return _context.abrupt("return");case 5:field.count++;_context.prev=6;_context.next=9;return indexPatternsService.updateSavedObject(indexPattern,0,true);case 9:_context.next=13;break;case 11:_context.prev=11;_context.t0=_context["catch"](6);case 13:case"end":return _context.stop()}}}),_callee,null,[[6,11]])})));return _popularizeField.apply(this,arguments)}},690:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiscoverNoResults}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(100);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var _kibana_services__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(127);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}var DiscoverNoResults=function(_Component){_inherits(DiscoverNoResults,_Component);var _super=_createSuper(DiscoverNoResults);function DiscoverNoResults(){_classCallCheck(this,DiscoverNoResults);return _super.apply(this,arguments)}_createClass(DiscoverNoResults,[{key:"render",value:function render(){var _this$props=this.props,timeFieldName=_this$props.timeFieldName,queryLanguage=_this$props.queryLanguage;var timeFieldMessage;if(timeFieldName){timeFieldMessage=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"xl"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{"data-test-subj":"discoverNoResultsTimefilter"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.expandYourTimeRangeTitle",defaultMessage:"Expand your time range"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.queryMayNotMatchTitle",defaultMessage:"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try changing the time range to one which contains data."}))))}var luceneQueryMessage;if(queryLanguage==="lucene"){var searchExamples=[{description:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCode"],null,"200"),title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.anyField200StatusCodeExampleTitle",defaultMessage:"Find requests that contain the number 200, in any field"})))},{description:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCode"],null,"status:200"),title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.statusField200StatusCodeExampleTitle",defaultMessage:"Find 200 in the status field"})))},{description:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCode"],null,"status:[400 TO 499]"),title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeExampleTitle",defaultMessage:"Find all status codes between 400-499"})))},{description:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCode"],null,"status:[400 TO 499] AND extension:PHP"),title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php"})))},{description:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCode"],null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpOrHtmlExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php or html"})))}];luceneQueryMessage=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"xl"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.refineYourQueryTitle",defaultMessage:"Refine your query"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.howTosearchForWebServerLogsDescription",defaultMessage:"The search bar at the top uses Elasticsearch’s support for Lucene {queryStringSyntaxLink}. Here are some examples of how you can search for web server logs that have been parsed into a few fields.",values:{queryStringSyntaxLink:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiLink"],{target:"_blank",href:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_3__["h"])().docLinks.links.query.luceneQuerySyntax},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.queryStringSyntaxLinkText",defaultMessage:"Query String syntax"}))}}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiDescriptionList"],{type:"column",listItems:searchExamples}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"xl"}))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["I18nProvider"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"xl"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexGroup"],{justifyContent:"center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexItem"],{grow:false,className:"dscNoResults"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiCallOut"],{title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.noResults.searchExamples.noResultsMatchSearchCriteriaTitle",defaultMessage:"No results match your search criteria"}),color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),timeFieldMessage,luceneQueryMessage))))}}]);return DiscoverNoResults}(react__WEBPACK_IMPORTED_MODULE_0__["Component"])},691:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiscoverUninitialized}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(100);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var DiscoverUninitialized=function DiscoverUninitialized(_ref){var onRefresh=_ref.onRefresh;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["I18nProvider"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiPage"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiPageBody"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiPageContent"],{horizontalPosition:"center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiEmptyPrompt"],{iconType:"discoverApp",title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.uninitializedTitle",defaultMessage:"Start searching"})),body:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.uninitializedText",defaultMessage:"Write a query, add some filters, or simply hit Refresh to retrieve results for the current query."})),actions:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiButton"],{color:"primary",fill:true,onClick:onRefresh},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{id:"discover.uninitializedRefreshButtonText",defaultMessage:"Refresh data"}))})))))}},692:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiscoverHistogram}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var moment_timezone__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(105);var moment_timezone__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var _elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(106);var _elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3__);var _elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(107);var _elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4__);var _elastic_charts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(111);var _elastic_charts__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(99);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_6__);var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14);var rxjs__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_7__);var _kibana_services__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(127);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function findIntervalFromDuration(dateValue,esValue,esUnit,timeZone){var date=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default.a.tz(dateValue,timeZone);var startOfDate=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default.a.tz(date,timeZone).startOf(esUnit);var endOfDate=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default.a.tz(date,timeZone).startOf(esUnit).add(esValue,esUnit);return endOfDate.valueOf()-startOfDate.valueOf()}function getIntervalInMs(value,esValue,esUnit,timeZone){switch(esUnit){case"s":return 1e3*esValue;case"ms":return 1*esValue;default:return findIntervalFromDuration(value,esValue,esUnit,timeZone)}}function getTimezone(uiSettings){if(uiSettings.isDefault("dateFormat:tz")){var detectedTimezone=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default.a.tz.guess();if(detectedTimezone)return detectedTimezone;else return moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()().format("Z")}else{return uiSettings.get("dateFormat:tz","Browser")}}function findMinInterval(xValues,esValue,esUnit,timeZone){return xValues.reduce((function(minInterval,currentXvalue,index){var currentDiff=minInterval;if(index>0){currentDiff=Math.abs(xValues[index-1]-currentXvalue)}var singleUnitInterval=getIntervalInMs(currentXvalue,esValue,esUnit,timeZone);return Math.min(minInterval,singleUnitInterval,currentDiff)}),Number.MAX_SAFE_INTEGER)}var DiscoverHistogram=function(_Component){_inherits(DiscoverHistogram,_Component);var _super=_createSuper(DiscoverHistogram);function DiscoverHistogram(){var _this;_classCallCheck(this,DiscoverHistogram);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),"subscription",void 0);_defineProperty(_assertThisInitialized(_this),"state",{chartsTheme:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_8__["h"])().theme.chartsDefaultTheme,chartsBaseTheme:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_8__["h"])().theme.chartsDefaultBaseTheme});_defineProperty(_assertThisInitialized(_this),"onBrushEnd",(function(_ref){var x=_ref.x;if(!x){return}var _x=_slicedToArray(x,2),from=_x[0],to=_x[1];_this.props.timefilterUpdateHandler({from:from,to:to})}));_defineProperty(_assertThisInitialized(_this),"onElementClick",(function(xInterval){return function(_ref2){var _ref3=_slicedToArray(_ref2,1),elementData=_ref3[0];var startRange=elementData[0].x;var range={from:startRange,to:startRange+xInterval};_this.props.timefilterUpdateHandler(range)}}));_defineProperty(_assertThisInitialized(_this),"formatXValue",(function(val){var xAxisFormat=_this.props.chartData.xAxisFormat.params.pattern;return moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()(val).format(xAxisFormat)}));_defineProperty(_assertThisInitialized(_this),"renderBarTooltip",(function(xInterval,domainStart,domainEnd){return function(headerData){var headerDataValue=headerData.value;var formattedValue=_this.formatXValue(headerDataValue);var partialDataText=_kbn_i18n__WEBPACK_IMPORTED_MODULE_6__["i18n"].translate("discover.histogram.partialData.bucketTooltipText",{defaultMessage:"The selected time range does not include this entire bucket, it may contain partial data."});if(headerDataValue<domainStart||headerDataValue+xInterval>domainEnd){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiFlexGroup"],{alignItems:"center",className:"dscHistogram__header--partial",responsive:false,gutterSize:"xs"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiIcon"],{type:"iInCircle"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiFlexItem"],null,partialDataText)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiSpacer"],{size:"xs"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,formattedValue))}return formattedValue}}));return _this}_createClass(DiscoverHistogram,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.subscription=Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["combineLatest"])(Object(_kibana_services__WEBPACK_IMPORTED_MODULE_8__["h"])().theme.chartsTheme$,Object(_kibana_services__WEBPACK_IMPORTED_MODULE_8__["h"])().theme.chartsBaseTheme$).subscribe((function(_ref4){var _ref5=_slicedToArray(_ref4,2),chartsTheme=_ref5[0],chartsBaseTheme=_ref5[1];return _this2.setState({chartsTheme:chartsTheme,chartsBaseTheme:chartsBaseTheme})}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.subscription){this.subscription.unsubscribe()}}},{key:"render",value:function render(){var _data$,_data$2;var uiSettings=Object(_kibana_services__WEBPACK_IMPORTED_MODULE_8__["h"])().uiSettings;var timeZone=getTimezone(uiSettings);var chartData=this.props.chartData;var _this$state=this.state,chartsTheme=_this$state.chartsTheme,chartsBaseTheme=_this$state.chartsBaseTheme;if(!chartData){return null}var data=chartData.values;var _chartData$ordered=chartData.ordered,intervalESValue=_chartData$ordered.intervalESValue,intervalESUnit=_chartData$ordered.intervalESUnit,interval=_chartData$ordered.interval;var xInterval=interval.asMilliseconds();var xValues=chartData.xAxisOrderedValues;var lastXValue=xValues[xValues.length-1];var domain=chartData.ordered;var domainStart=domain.min.valueOf();var domainEnd=domain.max.valueOf();var domainMin=((_data$=data[0])===null||_data$===void 0?void 0:_data$.x)>domainStart?domainStart:(_data$2=data[0])===null||_data$2===void 0?void 0:_data$2.x;var domainMax=domainEnd-xInterval>lastXValue?domainEnd-xInterval:lastXValue;var xDomain={min:domainMin,max:domainMax,minInterval:findMinInterval(xValues,intervalESValue,intervalESUnit,timeZone)};var now=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()();var isAnnotationAtEdge=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()(domainEnd).add(6e4).isAfter(now)&&now.isAfter(domainEnd);var lineAnnotationValue=isAnnotationAtEdge?domainEnd:now;var lineAnnotationData=[{dataValue:lineAnnotationValue}];var isDarkMode=uiSettings.get("theme:darkMode");var lineAnnotationStyle={line:{strokeWidth:2,stroke:isDarkMode?_elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4___default.a.euiColorDanger:_elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3___default.a.euiColorDanger,opacity:.7}};var rectAnnotations=[];if(domainStart!==domainMin){rectAnnotations.push({coordinates:{x1:domainStart}})}if(domainEnd!==domainMax){rectAnnotations.push({coordinates:{x0:domainEnd}})}var rectAnnotationStyle={stroke:isDarkMode?_elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4___default.a.euiColorLightShade:_elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3___default.a.euiColorDarkShade,strokeWidth:0,opacity:isDarkMode?.6:.2,fill:isDarkMode?_elastic_eui_dist_eui_theme_dark_json__WEBPACK_IMPORTED_MODULE_4___default.a.euiColorLightShade:_elastic_eui_dist_eui_theme_light_json__WEBPACK_IMPORTED_MODULE_3___default.a.euiColorDarkShade};var tooltipProps={headerFormatter:this.renderBarTooltip(xInterval,domainStart,domainEnd),type:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["TooltipType"].VerticalCursor};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Chart"],{size:"100%"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Settings"],{xDomain:xDomain,onBrushEnd:this.onBrushEnd,onElementClick:this.onElementClick(xInterval),tooltip:tooltipProps,theme:chartsTheme,baseTheme:chartsBaseTheme}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Axis"],{id:"discover-histogram-left-axis",position:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Position"].Left,ticks:5,title:chartData.yAxisLabel}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Axis"],{id:"discover-histogram-bottom-axis",position:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["Position"].Bottom,title:chartData.xAxisLabel,tickFormat:this.formatXValue,ticks:10}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["LineAnnotation"],{id:"line-annotation",domainType:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["AnnotationDomainTypes"].XDomain,dataValues:lineAnnotationData,hideTooltips:true,style:lineAnnotationStyle}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["RectAnnotation"],{dataValues:rectAnnotations,id:"rect-annotation",zIndex:2,style:rectAnnotationStyle,hideTooltips:true}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["HistogramBarSeries"],{id:"discover-histogram",minBarHeight:2,xScaleType:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["ScaleType"].Time,yScaleType:_elastic_charts__WEBPACK_IMPORTED_MODULE_5__["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:data,timeZone:timeZone,name:chartData.yAxisLabel}))}}]);return DiscoverHistogram}(react__WEBPACK_IMPORTED_MODULE_2__["Component"])},721:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return QueryActionsProvider}));__webpack_require__.d(__webpack_exports__,"a",(function(){return FAILURE_REASONS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return LOADING_STATUS}));__webpack_require__.d(__webpack_exports__,"d",(function(){return createInitialLoadingStatusState}));var external_kbnSharedDeps_Lodash_=__webpack_require__(17);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(99);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var kibana_services=__webpack_require__(127);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function fetchAnchorProvider(indexPatterns,searchSource){return function(){var _fetchAnchor=_asyncToGenerator(regeneratorRuntime.mark((function _callee(indexPatternId,anchorId,sort){var indexPattern,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context.sent;searchSource.setParent(undefined).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);_context.next=6;return searchSource.fetch();case 6:response=_context.sent;if(!(external_kbnSharedDeps_Lodash_default.a.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.failedToLoadAnchorDocumentErrorDescription",{defaultMessage:"Failed to load anchor document."}));case 9:return _context.abrupt("return",_objectSpread(_objectSpread({},external_kbnSharedDeps_Lodash_default.a.get(response,["hits","hits",0])),{},{$$_isAnchor:true}));case 10:case"end":return _context.stop()}}}),_callee)})));function fetchAnchor(_x,_x2,_x3){return _fetchAnchor.apply(this,arguments)}return fetchAnchor}()}var sorting=__webpack_require__(688);var external_kbnSharedDeps_Moment_=__webpack_require__(102);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function extractNanos(){var timeFieldValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var fieldParts=timeFieldValue.split(".");var fractionSeconds=fieldParts.length===2?fieldParts[1].replace("Z",""):"";return fractionSeconds.length!==9?fractionSeconds.padEnd(9,"0"):fractionSeconds}function convertIsoToMillis(isoValue){var date=new Date(isoValue);return date.getTime()}function convertTimeValueToIso(timeValueMillis,nanosValue){if(!timeValueMillis){return null}var isoString=external_kbnSharedDeps_Moment_default()(timeValueMillis).toISOString();if(!isoString){return null}else if(nanosValue!==""){return"".concat(isoString.substring(0,isoString.length-4)).concat(nanosValue,"Z")}return isoString}var data_public=__webpack_require__(122);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function fetch_hits_in_interval_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function fetch_hits_in_interval_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){fetch_hits_in_interval_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){fetch_hits_in_interval_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function fetchHitsInInterval(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9){return _fetchHitsInInterval.apply(this,arguments)}function _fetchHitsInInterval(){_fetchHitsInInterval=fetch_hits_in_interval_asyncToGenerator(regeneratorRuntime.mark((function _callee(searchSource,timeField,sort,sortDir,interval,searchAfter,maxCount,nanosValue,anchorId){var _response$hits;var range,_interval,start,stop,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:range={format:"strict_date_optional_time"};_interval=_slicedToArray(interval,2),start=_interval[0],stop=_interval[1];if(start){range[sortDir===data_public["c"].asc?"gte":"lte"]=convertTimeValueToIso(start,nanosValue)}if(stop){range[sortDir===data_public["c"].asc?"lte":"gte"]=convertTimeValueToIso(stop,nanosValue)}_context.next=6;return searchSource.setField("size",maxCount).setField("query",{query:{bool:{must:{constant_score:{filter:{range:{[timeField]:range}}}},must_not:{ids:{values:[anchorId]}}}},language:"lucene"}).setField("searchAfter",searchAfter).setField("sort",sort).setField("version",true).fetch();case 6:response=_context.sent;return _context.abrupt("return",((_response$hits=response.hits)===null||_response$hits===void 0?void 0:_response$hits.hits)||[]);case 8:case"end":return _context.stop()}}}),_callee)})));return _fetchHitsInInterval.apply(this,arguments)}var _marked=regeneratorRuntime.mark(asPairs);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||generate_intervals_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return generate_intervals_arrayLikeToArray(arr)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=generate_intervals_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function generate_intervals_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return generate_intervals_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return generate_intervals_arrayLikeToArray(o,minLen)}function generate_intervals_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function asPairs(iterable){var currentPair,_iterator,_step,value;return regeneratorRuntime.wrap((function asPairs$(_context){while(1){switch(_context.prev=_context.next){case 0:currentPair=[];_iterator=_createForOfIteratorHelper(iterable);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=12;break}value=_step.value;currentPair=[].concat(_toConsumableArray(currentPair),[value]).slice(-2);if(!(currentPair.length===2)){_context.next=10;break}_context.next=10;return currentPair;case 10:_context.next=4;break;case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](2);_iterator.e(_context.t0);case 17:_context.prev=17;_iterator.f();return _context.finish(17);case 20:case"end":return _context.stop()}}}),_marked,null,[[2,14,17,20]])}function generateIntervals(offsets,startTime,type,sort){var offsetSign=sort===data_public["c"].asc&&type==="successors"||sort===data_public["c"].desc&&type==="predecessors"?1:-1;return asPairs([].concat(_toConsumableArray(offsets.map((function(offset){return startTime+offset*offsetSign}))),[null]))}function getEsQuerySearchAfter(type,documents,timeFieldName,anchor,nanoSeconds){if(documents.length){var afterTimeRecIdx=type==="successors"&&documents.length?documents.length-1:0;var afterTimeDoc=documents[afterTimeRecIdx];var afterTimeValue=nanoSeconds?afterTimeDoc._source[timeFieldName]:afterTimeDoc.sort[0];return[afterTimeValue,afterTimeDoc.sort[1]]}return[nanoSeconds?anchor._source[timeFieldName]:anchor.sort[0],anchor.sort[1]]}function getEsQuerySort(timeField,tieBreakerField,sortDir){return[{[timeField]:sortDir},{[tieBreakerField]:sortDir}]}function context_toConsumableArray(arr){return context_arrayWithoutHoles(arr)||context_iterableToArray(arr)||context_unsupportedIterableToArray(arr)||context_nonIterableSpread()}function context_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function context_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function context_arrayWithoutHoles(arr){if(Array.isArray(arr))return context_arrayLikeToArray(arr)}function context_createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=context_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function context_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return context_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return context_arrayLikeToArray(o,minLen)}function context_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function context_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function context_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){context_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){context_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var DAY_MILLIS=24*60*60*1e3;var LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map((function(days){return days*DAY_MILLIS}));function fetchContextProvider(indexPatterns){return{fetchSurroundingDocs:fetchSurroundingDocs};function fetchSurroundingDocs(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _fetchSurroundingDocs.apply(this,arguments)}function _fetchSurroundingDocs(){_fetchSurroundingDocs=context_asyncToGenerator(regeneratorRuntime.mark((function _callee(type,indexPatternId,anchor,timeField,tieBreakerField,sortDir,size,filters){var indexPattern,searchSource,sortDirToApply,nanos,timeValueMillis,intervals,documents,_iterator,_step,interval,remainingSize,searchAfter,sort,hits;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof anchor!=="object"||anchor===null||!size)){_context.next=2;break}return _context.abrupt("return",[]);case 2:_context.next=4;return indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent;_context.next=7;return createSearchSource(indexPattern,filters);case 7:searchSource=_context.sent;sortDirToApply=type==="successors"?sortDir:Object(sorting["b"])(sortDir);nanos=indexPattern.isTimeNanosBased()?extractNanos(anchor._source[timeField]):"";timeValueMillis=nanos!==""?convertIsoToMillis(anchor._source[timeField]):anchor.sort[0];intervals=generateIntervals(LOOKUP_OFFSETS,timeValueMillis,type,sortDir);documents=[];_iterator=context_createForOfIteratorHelper(intervals);_context.prev=14;_iterator.s();case 16:if((_step=_iterator.n()).done){_context.next=29;break}interval=_step.value;remainingSize=size-documents.length;if(!(remainingSize<=0)){_context.next=21;break}return _context.abrupt("break",29);case 21:searchAfter=getEsQuerySearchAfter(type,documents,timeField,anchor,nanos);sort=getEsQuerySort(timeField,tieBreakerField,sortDirToApply);_context.next=25;return fetchHitsInInterval(searchSource,timeField,sort,sortDirToApply,interval,searchAfter,remainingSize,nanos,anchor._id);case 25:hits=_context.sent;documents=type==="successors"?[].concat(context_toConsumableArray(documents),context_toConsumableArray(hits)):[].concat(context_toConsumableArray(hits.slice().reverse()),context_toConsumableArray(documents));case 27:_context.next=16;break;case 29:_context.next=34;break;case 31:_context.prev=31;_context.t0=_context["catch"](14);_iterator.e(_context.t0);case 34:_context.prev=34;_iterator.f();return _context.finish(34);case 37:return _context.abrupt("return",documents);case 38:case"end":return _context.stop()}}}),_callee,null,[[14,31,34,37]])})));return _fetchSurroundingDocs.apply(this,arguments)}function createSearchSource(_x9,_x10){return _createSearchSource.apply(this,arguments)}function _createSearchSource(){_createSearchSource=context_asyncToGenerator(regeneratorRuntime.mark((function _callee2(indexPattern,filters){var _getServices,data,searchSource;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_getServices=Object(kibana_services["h"])(),data=_getServices.data;_context2.next=3;return data.search.searchSource.create();case 3:searchSource=_context2.sent;return _context2.abrupt("return",searchSource.setParent(undefined).setField("index",indexPattern).setField("filter",filters));case 5:case"end":return _context2.stop()}}}),_callee2)})));return _createSearchSource.apply(this,arguments)}}var query_parameters=__webpack_require__(747);var FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};var LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"};var kibana_react_public=__webpack_require__(124);function actions_toConsumableArray(arr){return actions_arrayWithoutHoles(arr)||actions_iterableToArray(arr)||actions_unsupportedIterableToArray(arr)||actions_nonIterableSpread()}function actions_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function actions_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function actions_arrayWithoutHoles(arr){if(Array.isArray(arr))return actions_arrayLikeToArray(arr)}function actions_slicedToArray(arr,i){return actions_arrayWithHoles(arr)||actions_iterableToArrayLimit(arr,i)||actions_unsupportedIterableToArray(arr,i)||actions_nonIterableRest()}function actions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function actions_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return actions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return actions_arrayLikeToArray(o,minLen)}function actions_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function actions_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function actions_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function actions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function actions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){actions_ownKeys(Object(source),true).forEach((function(key){actions_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{actions_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function actions_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function QueryActionsProvider(Promise){var _getServices=Object(kibana_services["h"])(),filterManager=_getServices.filterManager,indexPatterns=_getServices.indexPatterns,data=_getServices.data;var fetchAnchor=fetchAnchorProvider(indexPatterns,data.search.searchSource.createEmpty());var _fetchContextProvider=fetchContextProvider(indexPatterns),fetchSurroundingDocs=_fetchContextProvider.fetchSurroundingDocs;var _getQueryParameterAct=Object(query_parameters["c"])(filterManager,indexPatterns),setPredecessorCount=_getQueryParameterAct.setPredecessorCount,setQueryParameters=_getQueryParameterAct.setQueryParameters,setSuccessorCount=_getQueryParameterAct.setSuccessorCount;var setFailedStatus=function setFailedStatus(state){return function(subject){var details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return state.loadingStatus[subject]=actions_objectSpread({status:LOADING_STATUS.FAILED,reason:FAILURE_REASONS.UNKNOWN},details)}};var setLoadedStatus=function setLoadedStatus(state){return function(subject){return state.loadingStatus[subject]={status:LOADING_STATUS.LOADED}}};var setLoadingStatus=function setLoadingStatus(state){return function(subject){return state.loadingStatus[subject]={status:LOADING_STATUS.LOADING}}};var fetchAnchorRow=function fetchAnchorRow(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorId=_state$queryParameter.anchorId,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("anchor",{reason:FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)("anchor");return Promise.try((function(){return fetchAnchor(indexPatternId,anchorId,[external_kbnSharedDeps_Lodash_default.a.fromPairs([sort]),{[tieBreakerField]:sort[1]}])})).then((function(anchorDocument){setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument}),(function(error){setFailedStatus(state)("anchor",{error:error});Object(kibana_services["h"])().toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.unableToLoadAnchorDocumentDescription",{defaultMessage:"Unable to load the anchor document"}),text:external_kbnSharedDeps_React_default.a.createElement(kibana_react_public["MarkdownSimple"],null,error.message)});throw error}))}};var fetchSurroundingRows=function fetchSurroundingRows(type,state){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;var filters=Object(kibana_services["h"])().filterManager.getFilters();var count=type==="successors"?state.queryParameters.successorCount:state.queryParameters.predecessorCount;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)(type,{reason:FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)(type);var _sort=actions_slicedToArray(sort,2),sortField=_sort[0],sortDir=_sort[1];return Promise.try((function(){return fetchSurroundingDocs(type,indexPatternId,anchor,sortField,tieBreakerField,sortDir,count,filters)})).then((function(documents){setLoadedStatus(state)(type);state.rows[type]=documents;return documents}),(function(error){setFailedStatus(state)(type,{error:error});Object(kibana_services["h"])().toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.unableToLoadDocumentDescription",{defaultMessage:"Unable to load documents"}),text:external_kbnSharedDeps_React_default.a.createElement(kibana_react_public["MarkdownSimple"],null,error.message)});throw error}))};var fetchContextRows=function fetchContextRows(state){return function(){return Promise.all([fetchSurroundingRows("predecessors",state),fetchSurroundingRows("successors",state)])}};var fetchAllRows=function fetchAllRows(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}};var fetchContextRowsWithNewQueryParameters=function fetchContextRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchContextRows(state)()}};var fetchAllRowsWithNewQueryParameters=function fetchAllRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchAllRows(state)()}};var fetchGivenPredecessorRows=function fetchGivenPredecessorRows(state){return function(count){setPredecessorCount(state)(count);return fetchSurroundingRows("predecessors",state)}};var fetchGivenSuccessorRows=function fetchGivenSuccessorRows(state){return function(count){setSuccessorCount(state)(count);return fetchSurroundingRows("successors",state)}};var setAllRows=function setAllRows(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(actions_toConsumableArray(predecessorRows||[]),actions_toConsumableArray(anchorRow?[anchorRow]:[]),actions_toConsumableArray(successorRows||[]))}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,setAllRows:setAllRows}}function createInitialLoadingStatusState(){return{anchor:LOADING_STATUS.UNINITIALIZED,predecessors:LOADING_STATUS.UNINITIALIZED,successors:LOADING_STATUS.UNINITIALIZED}}},733:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DocViewer}));var doc_viewer=__webpack_require__(1734);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(98);var kibana_services=__webpack_require__(127);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(100);function DocViewRenderTab(_ref){var render=_ref.render,renderProps=_ref.renderProps;var ref=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])((function(){if(ref&&ref.current){return render(ref.current,renderProps)}}),[render,renderProps]);return external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref})}var doc_viewer_render_error=__webpack_require__(591);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var doc_viewer_tab_DocViewerTab=function(_React$Component){_inherits(DocViewerTab,_React$Component);var _super=_createSuper(DocViewerTab);function DocViewerTab(){var _this;_classCallCheck(this,DocViewerTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),"state",{hasError:false,error:""});return _this}_createClass(DocViewerTab,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return nextProps.renderProps.hit._id!==this.props.renderProps.hit._id||nextProps.id!==this.props.id||nextState.hasError}},{key:"render",value:function render(){var _this$props=this.props,component=_this$props.component,render=_this$props.render,renderProps=_this$props.renderProps,title=_this$props.title;var _this$state=this.state,hasError=_this$state.hasError,error=_this$state.error;if(hasError&&error){return external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error["a"],{error:error})}else if(!render&&!component){return external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error["a"],{error:"Invalid plugin ".concat(title,", there is neither a (react) component nor a render function provided")})}if(render){return external_kbnSharedDeps_React_default.a.createElement(DocViewRenderTab,{render:render,renderProps:renderProps})}var Component=component;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(Component,renderProps))}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(error){return{hasError:true,error:error}}}]);return DocViewerTab}(external_kbnSharedDeps_React_default.a.Component);function DocViewer(renderProps){var docViewsRegistry=Object(kibana_services["b"])();var tabs=docViewsRegistry.getDocViewsSorted(renderProps.hit).map((function(_ref,idx){var title=_ref.title,render=_ref.render,component=_ref.component;return{id:"kbn_doc_viewer_tab_".concat(idx),name:title,content:external_kbnSharedDeps_React_default.a.createElement(doc_viewer_tab_DocViewerTab,{id:idx,title:title,component:component,renderProps:renderProps,render:render})}}));if(!tabs.length){return null}return external_kbnSharedDeps_React_default.a.createElement("div",{className:"kbnDocViewer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabbedContent"],{tabs:tabs}))}},747:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getQueryParameterActions}));__webpack_require__.d(__webpack_exports__,"a",(function(){return constants["c"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return query_parameters_state["a"]}));var external_kbnSharedDeps_Lodash_=__webpack_require__(17);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var data_public=__webpack_require__(122);var popularize_field=__webpack_require__(689);var constants=__webpack_require__(213);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getQueryParameterActions(filterManager,indexPatterns){var setPredecessorCount=function setPredecessorCount(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(constants["b"],constants["a"],predecessorCount)}};var setSuccessorCount=function setSuccessorCount(state){return function(successorCount){return state.queryParameters.successorCount=clamp(constants["b"],constants["a"],successorCount)}};var setQueryParameters=function setQueryParameters(state){return function(queryParameters){return Object.assign(state.queryParameters,external_kbnSharedDeps_Lodash_default.a.pick(queryParameters,constants["c"]))}};var updateFilters=function updateFilters(){return function(filters){filterManager.setFilters(filters)}};var addFilter=function addFilter(state){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(field,values,operation){var indexPatternId,newFilters,indexPattern;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternId=state.queryParameters.indexPatternId;newFilters=data_public["f"].generateFilters(filterManager,field,values,operation,indexPatternId);filterManager.addFilters(newFilters);if(!indexPatterns){_context.next=9;break}_context.next=6;return indexPatterns.get(indexPatternId);case 6:indexPattern=_context.sent;_context.next=9;return Object(popularize_field["a"])(indexPattern,field.name,indexPatterns);case 9:case"end":return _context.stop()}}}),_callee)})));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}()};return{addFilter:addFilter,updateFilters:updateFilters,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}var query_parameters_state=__webpack_require__(455)}}]);