(window["wazuh_bundle_jsonpfunction"]=window["wazuh_bundle_jsonpfunction"]||[]).push([[13],{1943:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getInnerAngularModule",(function(){return getInnerAngularModule}));__webpack_require__.d(__webpack_exports__,"initializeInnerAngularModule",(function(){return initializeInnerAngularModule}));var external_kbnSharedDeps_Angular_=__webpack_require__(103);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var angular_sanitize=__webpack_require__(265);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(109);var kibana_utils_public=__webpack_require__(125);var kibana_legacy_public=__webpack_require__(151);var kibana_services=__webpack_require__(0);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var classnames=__webpack_require__(221);var classnames_default=__webpack_require__.n(classnames);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(98);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(99);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(100);var helpers=__webpack_require__(327);function HitsCounter(_ref){var hits=_ref.hits,showResetButton=_ref.showResetButton,onResetQuery=_ref.onResetQuery;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",className:"dscResultCount",responsive:false,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",{"data-test-subj":"discoverQueryHits"},Object(helpers["a"])(hits))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.hitsPluralTitle",defaultMessage:"{hits, plural, one {hit} other {hits}}",values:{hits:hits}}))),showResetButton&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"refresh","data-test-subj":"resetSavedSearch",onClick:onResetQuery,size:"s","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.reloadSavedSearchButton",{defaultMessage:"Reset search"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.reloadSavedSearchButton",defaultMessage:"Reset search"})))))}var external_kbnSharedDeps_Moment_=__webpack_require__(102);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function TimechartHeader(_ref){var bucketInterval=_ref.bucketInterval,dateFormat=_ref.dateFormat,timeRange=_ref.timeRange,options=_ref.options,onChangeInterval=_ref.onChangeInterval,stateInterval=_ref.stateInterval;var _useState=Object(external_kbnSharedDeps_React_["useState"])(stateInterval),_useState2=_slicedToArray(_useState,2),interval=_useState2[0],setInterval=_useState2[1];var toMoment=Object(external_kbnSharedDeps_React_["useCallback"])((function(datetime){if(!datetime){return""}if(!dateFormat){return datetime}return external_kbnSharedDeps_Moment_default()(datetime).format(dateFormat)}),[dateFormat]);Object(external_kbnSharedDeps_React_["useEffect"])((function(){setInterval(stateInterval)}),[stateInterval]);var handleIntervalChange=function handleIntervalChange(e){setInterval(e.target.value);onChangeInterval(e.target.value)};if(!timeRange||!bucketInterval){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",responsive:true,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.howToChangeTheTimeTooltip",{defaultMessage:"To change the time, use the global time filter above"}),delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"discoverIntervalDateRange",size:"s"},"".concat(toMoment(timeRange.from)," - ").concat(toMoment(timeRange.to)," ").concat(interval!=="auto"?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.timechartHeader.timeIntervalSelect.per",{defaultMessage:"per"}):"")))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.timechartHeader.timeIntervalSelect.ariaLabel",{defaultMessage:"Time interval"}),compressed:true,id:"dscResultsIntervalSelector","data-test-subj":"discoverIntervalSelect",options:options.filter((function(_ref2){var val=_ref2.val;return val!=="custom"})).map((function(_ref3){var display=_ref3.display,val=_ref3.val;return{text:display,value:val,label:display}})),value:interval,onChange:handleIntervalChange,append:bucketInterval.scaled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{id:"discoverIntervalIconTip",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip",{defaultMessage:"This interval creates {bucketsDescription} to show in the selected time range, so it has been scaled to {bucketIntervalDescription}.",values:{bucketsDescription:bucketInterval.scale&&bucketInterval.scale>1?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip.tooLargeBucketsText",{defaultMessage:"buckets that are too large"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip.tooManyBucketsText",{defaultMessage:"too many buckets"}),bucketIntervalDescription:bucketInterval.description}}),color:"warning",size:"s",type:"alert"}):undefined}))))}var discover_sidebar=__webpack_require__(804);var external_kbnSharedDeps_Lodash_=__webpack_require__(17);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);function StringFieldProgressBar(_ref){var value=_ref.value,percent=_ref.percent,count=_ref.count;var ariaLabel="".concat(value,": ").concat(count," (").concat(percent,"%)");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiProgress"],{value:percent,max:100,color:"secondary","aria-label":ariaLabel,size:"s"})}var discover_field_bucket=__webpack_require__(813);function DiscoverFieldBucket(_ref){var field=_ref.field,bucket=_ref.bucket,onAddFilter=_ref.onAddFilter;var emptyTxt=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.emptyStringText",{defaultMessage:"Empty string"});var addLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.filterValueButtonAriaLabel",{defaultMessage:'Filter for {field}: "{value}"',values:{value:bucket.value,field:field.name}});var removeLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.filterOutValueButtonAriaLabel",{defaultMessage:'Filter out {field}: "{value}"',values:{value:bucket.value,field:field.name}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",responsive:false,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscFieldDetails__barContainer",grow:1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"xs",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{title:bucket.display===""?emptyTxt:"".concat(bucket.display,": ").concat(bucket.count," (").concat(bucket.percent,"%)"),size:"xs",className:"eui-textTruncate"},bucket.display===""?emptyTxt:bucket.display)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"secondary",size:"xs",className:"eui-textTruncate"},bucket.percent,"%"))),external_kbnSharedDeps_React_default.a.createElement(StringFieldProgressBar,{value:bucket.value,percent:bucket.percent,count:bucket.count})),field.filterable&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconSize:"s",iconType:"plusInCircle",onClick:function onClick(){return onAddFilter(field,bucket.value,"+")},"aria-label":addLabel,"data-test-subj":"plus-".concat(field.name,"-").concat(bucket.value),style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconSize:"s",iconType:"minusInCircle",onClick:function onClick(){return onAddFilter(field,bucket.value,"-")},"aria-label":removeLabel,"data-test-subj":"minus-".concat(field.name,"-").concat(bucket.value),style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}function getWarnings(field){var warnings=[];if(field.scripted){warnings.push(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.scriptedFieldsTakeLongExecuteDescription",{defaultMessage:"Scripted fields can take a long time to execute."}))}if(warnings.length>1){warnings=warnings.map((function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning}))}return warnings}var ui_actions_public=__webpack_require__(172);var discover_kibana_services=__webpack_require__(153);var data_public=__webpack_require__(122);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getTriggerConstant(type){return type===data_public["b"].GEO_POINT||type===data_public["b"].GEO_SHAPE?ui_actions_public["f"]:ui_actions_public["e"]}function getTrigger(type){return type===data_public["b"].GEO_POINT||type===data_public["b"].GEO_SHAPE?ui_actions_public["j"]:ui_actions_public["i"]}function getCompatibleActions(_x,_x2,_x3,_x4){return _getCompatibleActions.apply(this,arguments)}function _getCompatibleActions(){_getCompatibleActions=_asyncToGenerator(regeneratorRuntime.mark((function _callee(fieldName,indexPatternId,contextualFields,trigger){var compatibleActions;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(discover_kibana_services["f"])().getTriggerCompatibleActions(trigger,{indexPatternId:indexPatternId,fieldName:fieldName,contextualFields:contextualFields});case 2:compatibleActions=_context.sent;return _context.abrupt("return",compatibleActions);case 4:case"end":return _context.stop()}}}),_callee)})));return _getCompatibleActions.apply(this,arguments)}function getVisualizeHref(_x5,_x6,_x7){return _getVisualizeHref.apply(this,arguments)}function _getVisualizeHref(){_getVisualizeHref=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(field,indexPatternId,contextualFields){var _compatibleActions$0$,_compatibleActions$;var triggerOptions,compatibleActions;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(indexPatternId){_context2.next=2;break}return _context2.abrupt("return",undefined);case 2:triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields,trigger:getTrigger(field.type)};_context2.next=5;return getCompatibleActions(field.name,indexPatternId,contextualFields,getTriggerConstant(field.type));case 5:compatibleActions=_context2.sent;return _context2.abrupt("return",compatibleActions.length===1?(_compatibleActions$0$=(_compatibleActions$=compatibleActions[0]).getHref)===null||_compatibleActions$0$===void 0?void 0:_compatibleActions$0$.call(_compatibleActions$,triggerOptions):undefined);case 7:case"end":return _context2.stop()}}}),_callee2)})));return _getVisualizeHref.apply(this,arguments)}function triggerVisualizeActions(field,indexPatternId,contextualFields){if(!indexPatternId)return;var trigger=getTriggerConstant(field.type);var triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields};Object(discover_kibana_services["f"])().getTrigger(trigger).exec(triggerOptions)}function isFieldVisualizable(_x8,_x9,_x10){return _isFieldVisualizable.apply(this,arguments)}function _isFieldVisualizable(){_isFieldVisualizable=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(field,indexPatternId,contextualFields){var trigger,compatibleActions;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(field.name==="_id"||!indexPatternId)){_context3.next=2;break}return _context3.abrupt("return",false);case 2:trigger=getTriggerConstant(field.type);_context3.next=5;return getCompatibleActions(field.name,indexPatternId,contextualFields,trigger);case 5:compatibleActions=_context3.sent;return _context3.abrupt("return",compatibleActions.length>0&&field.visualizable);case 7:case"end":return _context3.stop()}}}),_callee3)})));return _isFieldVisualizable.apply(this,arguments)}var discover_field_details=__webpack_require__(881);function discover_field_details_slicedToArray(arr,i){return discover_field_details_arrayWithHoles(arr)||discover_field_details_iterableToArrayLimit(arr,i)||discover_field_details_unsupportedIterableToArray(arr,i)||discover_field_details_nonIterableRest()}function discover_field_details_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_field_details_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_field_details_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_field_details_arrayLikeToArray(o,minLen)}function discover_field_details_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_field_details_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_field_details_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverFieldDetails(_ref){var field=_ref.field,indexPattern=_ref.indexPattern,details=_ref.details,onAddFilter=_ref.onAddFilter;var warnings=getWarnings(field);var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=discover_field_details_slicedToArray(_useState,2),showVisualizeLink=_useState2[0],setShowVisualizeLink=_useState2[1];var _useState3=Object(external_kbnSharedDeps_React_["useState"])(""),_useState4=discover_field_details_slicedToArray(_useState3,2),visualizeLink=_useState4[0],setVisualizeLink=_useState4[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){isFieldVisualizable(field,indexPattern.id,details.columns).then((function(flag){setShowVisualizeLink(flag);getVisualizeHref(field,indexPattern.id,details.columns).then((function(uri){if(uri)setVisualizeLink(uri)}),(function(){setVisualizeLink("")}))}),(function(){setShowVisualizeLink(false)}))}),[field,indexPattern.id,details.columns]);var handleVisualizeLinkClick=function handleVisualizeLinkClick(event){event.preventDefault();triggerVisualizeActions(field,indexPattern.id,details.columns)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldDetails"},details.error&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},details.error),!details.error&&external_kbnSharedDeps_React_default.a.createElement("div",{style:{marginTop:"4px"}},details.buckets.map((function(bucket,idx){return external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldBucket,{key:"bucket".concat(idx),bucket:bucket,field:field,onAddFilter:onAddFilter})}))),showVisualizeLink&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:function onClick(e){return handleVisualizeLinkClick(e)},href:visualizeLink,size:"s",className:"dscFieldDetails__visualizeBtn","data-test-subj":"fieldVisualize-".concat(field.name)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.visualizeLinkText",defaultMessage:"Visualize"})),warnings.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"warning",content:warnings.join(" ")}))),!details.error&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",textAlign:"center"},!indexPattern.metaFields.includes(field.name)&&!field.scripted?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:function onClick(){return onAddFilter("_exists_",field.name,"+")}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.existsText",defaultMessage:"Exists in"})," ",details.exists):external_kbnSharedDeps_React_default.a.createElement("span",null,details.exists)," ","/ ",details.total," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.recordsText",defaultMessage:"records"}))))}var kibana_react_public=__webpack_require__(124);function getFieldTypeName(type){switch(type){case"boolean":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"});case"conflict":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"});case"date":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"});case"geo_point":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo point field"});case"geo_shape":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo shape field"});case"ip":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"});case"murmur3":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"});case"number":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"});case"source":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"});case"string":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"});case"nested":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.nestedFieldAriaLabel",{defaultMessage:"Nested field"});default:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"})}}var discover_field=__webpack_require__(890);function discover_field_slicedToArray(arr,i){return discover_field_arrayWithHoles(arr)||discover_field_iterableToArrayLimit(arr,i)||discover_field_unsupportedIterableToArray(arr,i)||discover_field_nonIterableRest()}function discover_field_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_field_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_field_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_field_arrayLikeToArray(o,minLen)}function discover_field_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_field_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_field_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverField(_ref){var field=_ref.field,indexPattern=_ref.indexPattern,onAddField=_ref.onAddField,onRemoveField=_ref.onRemoveField,onAddFilter=_ref.onAddFilter,getDetails=_ref.getDetails,selected=_ref.selected,useShortDots=_ref.useShortDots;var addLabelAria=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.addButtonAriaLabel",{defaultMessage:"Add {field} to table",values:{field:field.name}});var removeLabelAria=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.removeButtonAriaLabel",{defaultMessage:"Remove {field} from table",values:{field:field.name}});var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=discover_field_slicedToArray(_useState,2),infoIsOpen=_useState2[0],setOpen=_useState2[1];var toggleDisplay=function toggleDisplay(f){if(selected){onRemoveField(f.name)}else{onAddField(f.name)}};function togglePopover(){setOpen(!infoIsOpen)}function wrapOnDot(str){return str?str.replace(/\./g,".​"):""}var dscFieldIcon=external_kbnSharedDeps_React_default.a.createElement(kibana_react_public["FieldIcon"],{type:field.type,label:getFieldTypeName(field.type),scripted:field.scripted});var fieldName=external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"field-".concat(field.name),title:field.name,className:"dscSidebarField__name"},useShortDots?wrapOnDot(Object(helpers["b"])(field.name)):wrapOnDot(field.displayName));var actionButton;if(field.name!=="_source"&&!selected){actionButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.addFieldTooltip",{defaultMessage:"Add field as column"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"plusInCircleFilled",className:"dscSidebarItem__action",onClick:function onClick(ev){if(ev.type==="click"){ev.currentTarget.focus()}ev.preventDefault();ev.stopPropagation();toggleDisplay(field)},"data-test-subj":"fieldToggle-".concat(field.name),"aria-label":addLabelAria}))}else if(field.name!=="_source"&&selected){actionButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.removeFieldTooltip",{defaultMessage:"Remove field from table"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{color:"danger",iconType:"cross",className:"dscSidebarItem__action",onClick:function onClick(ev){if(ev.type==="click"){ev.currentTarget.focus()}ev.preventDefault();ev.stopPropagation();toggleDisplay(field)},"data-test-subj":"fieldToggle-".concat(field.name),"aria-label":removeLabelAria}))}if(field.type==="_source"){return external_kbnSharedDeps_React_default.a.createElement(kibana_react_public["FieldButton"],{size:"s",className:"dscSidebarItem",dataTestSubj:"field-".concat(field.name,"-showDetails"),fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{ownFocus:true,display:"block",button:external_kbnSharedDeps_React_default.a.createElement(kibana_react_public["FieldButton"],{size:"s",className:"dscSidebarItem",isActive:infoIsOpen,onClick:function onClick(){togglePopover()},dataTestSubj:"field-".concat(field.name,"-showDetails"),fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName}),isOpen:infoIsOpen,closePopover:function closePopover(){return setOpen(false)},anchorPosition:"rightUp",panelClassName:"dscSidebarItem__fieldPopoverPanel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null," ",external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.fieldTopValuesLabel",{defaultMessage:"Top 5 values"})),infoIsOpen&&external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetails,{indexPattern:indexPattern,field:field,details:getDetails(field),onAddFilter:onAddFilter}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function change_indexpattern_slicedToArray(arr,i){return change_indexpattern_arrayWithHoles(arr)||change_indexpattern_iterableToArrayLimit(arr,i)||change_indexpattern_unsupportedIterableToArray(arr,i)||change_indexpattern_nonIterableRest()}function change_indexpattern_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function change_indexpattern_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return change_indexpattern_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return change_indexpattern_arrayLikeToArray(o,minLen)}function change_indexpattern_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function change_indexpattern_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function change_indexpattern_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ChangeIndexPattern(_ref){var indexPatternRefs=_ref.indexPatternRefs,indexPatternId=_ref.indexPatternId,onChangeIndexPattern=_ref.onChangeIndexPattern,trigger=_ref.trigger,selectableProps=_ref.selectableProps;var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=change_indexpattern_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setPopoverIsOpen=_useState2[1];var createTrigger=function createTrigger(){var label=trigger.label,title=trigger.title,rest=_objectWithoutProperties(trigger,["label","title"]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],_extends({className:"eui-textTruncate",flush:"left",color:"text",iconSide:"right",iconType:"arrowDown",title:title,onClick:function onClick(){return setPopoverIsOpen(!isPopoverOpen)}},rest),label)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{button:createTrigger(),isOpen:isPopoverOpen,closePopover:function closePopover(){return setPopoverIsOpen(false)},className:"eui-textTruncate",anchorClassName:"eui-textTruncate",display:"block",panelPaddingSize:"s",ownFocus:true},external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:320}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.indexPattern.changeIndexPatternTitle",{defaultMessage:"Change index pattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelectable"],_extends({"data-test-subj":"indexPattern-switcher"},selectableProps,{searchable:true,singleSelection:"always",options:indexPatternRefs.map((function(_ref2){var title=_ref2.title,id=_ref2.id;return{label:title,key:id,value:id,checked:id===indexPatternId?"on":undefined}})),onChange:function onChange(choices){var choice=choices.find((function(_ref3){var checked=_ref3.checked;return checked}));onChangeIndexPattern(choice.value);setPopoverIsOpen(false)},searchProps:_objectSpread({compressed:true},selectableProps?selectableProps.searchProps:undefined)}),(function(list,search){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,search,list)}))))}function discover_index_pattern_slicedToArray(arr,i){return discover_index_pattern_arrayWithHoles(arr)||discover_index_pattern_iterableToArrayLimit(arr,i)||discover_index_pattern_unsupportedIterableToArray(arr,i)||discover_index_pattern_nonIterableRest()}function discover_index_pattern_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_index_pattern_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_index_pattern_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_index_pattern_arrayLikeToArray(o,minLen)}function discover_index_pattern_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_index_pattern_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_index_pattern_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverIndexPattern(_ref){var indexPatternList=_ref.indexPatternList,selectedIndexPattern=_ref.selectedIndexPattern,setIndexPattern=_ref.setIndexPattern;var options=(indexPatternList||[]).map((function(entity){return{id:entity.id,title:entity.attributes.title}}));var _ref2=selectedIndexPattern||{},selectedId=_ref2.id,selectedTitle=_ref2.title;var _useState=Object(external_kbnSharedDeps_React_["useState"])({id:selectedId,title:selectedTitle||""}),_useState2=discover_index_pattern_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){var id=selectedIndexPattern.id,title=selectedIndexPattern.title;setSelected({id:id,title:title})}),[selectedIndexPattern]);if(!selectedId){return null}return external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscIndexPattern__container"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(ChangeIndexPattern,{trigger:{label:selected.title,title:selected.title,"data-test-subj":"indexPattern-switch-link",className:"dscIndexPattern__triggerButton"},indexPatternId:selected.id,indexPatternRefs:options,onChangeIndexPattern:function onChangeIndexPattern(id){var indexPattern=options.find((function(pattern){return pattern.id===id}));if(indexPattern){setIndexPattern(id);setSelected(indexPattern)}}})))}function discover_field_search_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function discover_field_search_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){discover_field_search_ownKeys(Object(source),true).forEach((function(key){discover_field_search_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{discover_field_search_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function discover_field_search_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function discover_field_search_slicedToArray(arr,i){return discover_field_search_arrayWithHoles(arr)||discover_field_search_iterableToArrayLimit(arr,i)||discover_field_search_unsupportedIterableToArray(arr,i)||discover_field_search_nonIterableRest()}function discover_field_search_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_field_search_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_field_search_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_field_search_arrayLikeToArray(o,minLen)}function discover_field_search_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_field_search_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_field_search_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverFieldSearch(_ref){var _onChange=_ref.onChange,value=_ref.value,types=_ref.types;var searchPlaceholder=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.searchPlaceHolder",{defaultMessage:"Search field names"});var aggregatableLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.aggregatableLabel",{defaultMessage:"Aggregatable"});var searchableLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.searchableLabel",{defaultMessage:"Searchable"});var typeLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.typeLabel",{defaultMessage:"Type"});var typeOptions=types?types.map((function(type){return{value:type,text:type}})):[{value:"any",text:"any"}];var _useState=Object(external_kbnSharedDeps_React_["useState"])(0),_useState2=discover_field_search_slicedToArray(_useState,2),activeFiltersCount=_useState2[0],setActiveFiltersCount=_useState2[1];var _useState3=Object(external_kbnSharedDeps_React_["useState"])(false),_useState4=discover_field_search_slicedToArray(_useState3,2),isPopoverOpen=_useState4[0],setPopoverOpen=_useState4[1];var _useState5=Object(external_kbnSharedDeps_React_["useState"])({searchable:"any",aggregatable:"any",type:"any",missing:true}),_useState6=discover_field_search_slicedToArray(_useState5,2),values=_useState6[0],setValues=_useState6[1];if(typeof value!=="string"){return null}var filterBtnAriaLabel=isPopoverOpen?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.toggleFieldFilterButtonHideAriaLabel",{defaultMessage:"Hide field filter settings"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.toggleFieldFilterButtonShowAriaLabel",{defaultMessage:"Show field filter settings"});var handleFacetButtonClicked=function handleFacetButtonClicked(){setPopoverOpen(!isPopoverOpen)};var applyFilterValue=function applyFilterValue(id,filterValue){switch(filterValue){case"any":if(id!=="type"){_onChange(id,undefined)}else{_onChange(id,filterValue)}break;case"true":_onChange(id,true);break;case"false":_onChange(id,false);break;default:_onChange(id,filterValue)}};var isFilterActive=function isFilterActive(name,filterValue){return name!=="missing"&&filterValue!=="any"};var handleValueChange=function handleValueChange(name,filterValue){var previousValue=values[name];updateFilterCount(name,previousValue,filterValue);var updatedValues=discover_field_search_objectSpread({},values);updatedValues[name]=filterValue;setValues(updatedValues);applyFilterValue(name,filterValue)};var updateFilterCount=function updateFilterCount(name,previousValue,currentValue){var previouslyFilterActive=isFilterActive(name,previousValue);var filterActive=isFilterActive(name,currentValue);var diff=Number(filterActive)-Number(previouslyFilterActive);setActiveFiltersCount(activeFiltersCount+diff)};var handleMissingChange=function handleMissingChange(e){var missingValue=e.target.checked;handleValueChange("missing",missingValue)};var buttonContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFacetButton"],{"aria-label":filterBtnAriaLabel,"data-test-subj":"toggleFieldFilterButton",className:"dscFieldSearch__toggleButton",icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"filter"}),isSelected:activeFiltersCount>0,quantity:activeFiltersCount,onClick:handleFacetButtonClicked},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.fieldFilterFacetButtonLabel",defaultMessage:"Filter by type"}));var select=function select(id,selectOptions,selectValue){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{id:"".concat(id,"-select"),options:selectOptions,value:selectValue,onChange:function onChange(e){return handleValueChange(id,e.target.value)},"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.fieldSelectorLabel",{defaultMessage:"Selection of {id} filter options",values:{id:id}}),"data-test-subj":"".concat(id,"Select"),compressed:true})};var toggleButtons=function toggleButtons(id){return[{id:"".concat(id,"-any"),label:"any"},{id:"".concat(id,"-true"),label:"yes"},{id:"".concat(id,"-false"),label:"no"}]};var buttonGroup=function buttonGroup(id,legend){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonGroup"],{legend:legend,options:toggleButtons(id),idSelected:"".concat(id,"-").concat(values[id]),onChange:function onChange(optionId){return handleValueChange(id,optionId.replace("".concat(id,"-"),""))},buttonSize:"compressed",isFullWidth:true,"data-test-subj":"".concat(id,"ButtonGroup")})};var selectionPanel=external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldSearch__formWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{"data-test-subj":"filterSelectionPanel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:aggregatableLabel,display:"columnCompressed"},buttonGroup("aggregatable",aggregatableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:searchableLabel,display:"columnCompressed"},buttonGroup("searchable",searchableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:typeLabel,display:"columnCompressed"},select("type",typeOptions,values.type))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{"aria-label":searchPlaceholder,"data-test-subj":"fieldFilterSearchInput",compressed:true,fullWidth:true,onChange:function onChange(event){return _onChange("name",event.currentTarget.value)},placeholder:searchPlaceholder,value:value}))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldSearch__filterWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOutsideClickDetector"],{onOutsideClick:function onOutsideClick(){},isDisabled:!isPopoverOpen},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"dataPanelTypeFilter",panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",anchorPosition:"downLeft",display:"block",isOpen:isPopoverOpen,closePopover:function closePopover(){setPopoverOpen(false)},button:buttonContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.filterByTypeLabel",{defaultMessage:"Filter by type"})),selectionPanel,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.hideMissingFieldsLabel",{defaultMessage:"Hide missing fields"}),checked:values.missing,onChange:handleMissingChange,"data-test-subj":"missingSwitch"}))))))}var common=__webpack_require__(229);function field_filter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function field_filter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){field_filter_ownKeys(Object(source),true).forEach((function(key){field_filter_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{field_filter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function field_filter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getDefaultFieldFilter(){return{missing:true,type:"any",name:"",aggregatable:null,searchable:null}}function setFieldFilterProp(state,name,value){var newState=field_filter_objectSpread({},state);if(name==="missing"){newState.missing=Boolean(value)}else if(name==="aggregatable"){newState.aggregatable=typeof value!=="boolean"?null:value}else if(name==="searchable"){newState.searchable=typeof value!=="boolean"?null:value}else if(name==="name"){newState.name=String(value)}else if(name==="type"){newState.type=String(value)}return newState}function isFieldFiltered(field,filterState,fieldCounts){var matchFilter=filterState.type==="any"||field.type===filterState.type;var isAggregatable=filterState.aggregatable===null||field.aggregatable===filterState.aggregatable;var isSearchable=filterState.searchable===null||field.searchable===filterState.searchable;var scriptedOrMissing=!filterState.missing||field.type==="_source"||field.scripted||fieldCounts[field.name]>0;var matchName=!filterState.name||field.name.indexOf(filterState.name)!==-1;return matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=group_fields_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function group_fields_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return group_fields_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return group_fields_arrayLikeToArray(o,minLen)}function group_fields_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function groupFields(fields,columns,popularLimit,fieldCounts,fieldFilterState){var result={selected:[],popular:[],unpopular:[]};if(!Array.isArray(fields)||!Array.isArray(columns)||typeof fieldCounts!=="object"){return result}var popular=fields.filter((function(field){return!columns.includes(field.name)&&field.count})).sort((function(a,b){return(b.count||0)-(a.count||0)})).map((function(field){return field.name})).slice(0,popularLimit);var compareFn=function compareFn(a,b){if(!a.displayName){return 0}return a.displayName.localeCompare(b.displayName||"")};var fieldsSorted=fields.sort(compareFn);var _iterator=_createForOfIteratorHelper(fieldsSorted),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var field=_step.value;if(!isFieldFiltered(field,fieldFilterState,fieldCounts)){continue}if(columns.includes(field.name)){result.selected.push(field)}else if(popular.includes(field.name)&&field.type!=="_source"){result.popular.push(field)}else if(field.type!=="_source"){result.unpopular.push(field)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return result}function getFieldValues(hits,field,indexPattern){var name=field.name;var flattenHit=indexPattern.flattenHit;return external_kbnSharedDeps_Lodash_default.a.map(hits,(function(hit){return flattenHit(hit)[name]}))}function getFieldValueCounts(params){params=external_kbnSharedDeps_Lodash_default.a.defaults(params,{count:5,grouped:false});if(params.field.type==="geo_point"||params.field.type==="geo_shape"||params.field.type==="attachment"){return{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForGeoFieldsErrorMessage",{defaultMessage:"Analysis is not available for geo fields."})}}var allValues=getFieldValues(params.hits,params.field,params.indexPattern);var counts;var missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);counts=external_kbnSharedDeps_Lodash_default.a.map(external_kbnSharedDeps_Lodash_default.a.sortBy(groups,"count").reverse().slice(0,params.count),(function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}}));if(params.hits.length-missing===0){return{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.fieldIsNotPresentInDocumentsErrorMessage",{defaultMessage:"This field is present in your Elasticsearch mapping but not in the {hitsLength} documents shown in the doc table. You may still be able to visualize or search on it.",values:{hitsLength:params.hits.length}})}}return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-external_kbnSharedDeps_Lodash_default.a.without(array,undefined,null).length}function _groupValues(allValues,params){var groups={};var k;allValues.forEach((function(value){if(external_kbnSharedDeps_Lodash_default.a.isObject(value)&&!Array.isArray(value)){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForObjectFieldsErrorMessage",{defaultMessage:"Analysis is not available for object fields."}))}if(Array.isArray(value)&&!params.grouped){k=value}else{k=value==null?undefined:[value]}external_kbnSharedDeps_Lodash_default.a.each(k,(function(key){if(groups.hasOwnProperty(key)){groups[key].count++}else{groups[key]={value:params.grouped?value:key,count:1}}}))}));return groups}var fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts};function get_details_createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=get_details_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function get_details_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return get_details_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return get_details_arrayLikeToArray(o,minLen)}function get_details_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function get_details_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function get_details_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){get_details_ownKeys(Object(source),true).forEach((function(key){get_details_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{get_details_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function get_details_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function get_details_getDetails(field,hits,columns,indexPattern){if(!indexPattern){return{}}var details=get_details_objectSpread(get_details_objectSpread({},fieldCalculator.getFieldValueCounts({hits:hits,field:field,indexPattern:indexPattern,count:5,grouped:false})),{},{columns:columns});if(details.buckets){var _iterator=get_details_createForOfIteratorHelper(details.buckets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var bucket=_step.value;bucket.display=indexPattern.getFormatterForField(field).convert(bucket.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return details}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||get_index_pattern_field_list_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function get_index_pattern_field_list_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return get_index_pattern_field_list_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return get_index_pattern_field_list_arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return get_index_pattern_field_list_arrayLikeToArray(arr)}function get_index_pattern_field_list_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function getIndexPatternFieldList(indexPattern,fieldCounts){if(!indexPattern||!fieldCounts)return[];var fieldNamesInDocs=Object.keys(fieldCounts);var fieldNamesInIndexPattern=indexPattern.fields.getAll().map((function(fld){return fld.name}));var unknownTypes=[];Object(external_kbnSharedDeps_Lodash_["difference"])(fieldNamesInDocs,fieldNamesInIndexPattern).forEach((function(unknownFieldName){unknownTypes.push({displayName:String(unknownFieldName),name:String(unknownFieldName),type:"unknown"})}));return[].concat(_toConsumableArray(indexPattern.fields.getAll()),unknownTypes)}function discover_sidebar_createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=discover_sidebar_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function discover_sidebar_slicedToArray(arr,i){return discover_sidebar_arrayWithHoles(arr)||discover_sidebar_iterableToArrayLimit(arr,i)||discover_sidebar_unsupportedIterableToArray(arr,i)||discover_sidebar_nonIterableRest()}function discover_sidebar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_sidebar_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_sidebar_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_sidebar_arrayLikeToArray(o,minLen)}function discover_sidebar_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_sidebar_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_sidebar_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverSidebar(_ref){var columns=_ref.columns,fieldCounts=_ref.fieldCounts,hits=_ref.hits,indexPatternList=_ref.indexPatternList,onAddField=_ref.onAddField,onAddFilter=_ref.onAddFilter,onRemoveField=_ref.onRemoveField,selectedIndexPattern=_ref.selectedIndexPattern,setIndexPattern=_ref.setIndexPattern;var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=discover_sidebar_slicedToArray(_useState,2),showFields=_useState2[0],setShowFields=_useState2[1];var _useState3=Object(external_kbnSharedDeps_React_["useState"])(null),_useState4=discover_sidebar_slicedToArray(_useState3,2),fields=_useState4[0],setFields=_useState4[1];var _useState5=Object(external_kbnSharedDeps_React_["useState"])(getDefaultFieldFilter()),_useState6=discover_sidebar_slicedToArray(_useState5,2),fieldFilterState=_useState6[0],setFieldFilterState=_useState6[1];var services=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return Object(discover_kibana_services["e"])()}),[]);Object(external_kbnSharedDeps_React_["useEffect"])((function(){var newFields=getIndexPatternFieldList(selectedIndexPattern,fieldCounts);setFields(newFields)}),[selectedIndexPattern,fieldCounts,hits,services]);var onChangeFieldSearch=Object(external_kbnSharedDeps_React_["useCallback"])((function(field,value){var newState=setFieldFilterProp(fieldFilterState,field,value);setFieldFilterState(newState)}),[fieldFilterState]);var getDetailsByField=Object(external_kbnSharedDeps_React_["useCallback"])((function(ipField){return get_details_getDetails(ipField,hits,columns,selectedIndexPattern)}),[hits,columns,selectedIndexPattern]);var popularLimit=services.uiSettings.get(common["c"]);var useShortDots=services.uiSettings.get(data_public["d"].SHORT_DOTS_ENABLE);var _useMemo=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return groupFields(fields,columns,popularLimit,fieldCounts,fieldFilterState)}),[fields,columns,popularLimit,fieldCounts,fieldFilterState]),selectedFields=_useMemo.selected,popularFields=_useMemo.popular,unpopularFields=_useMemo.unpopular;var fieldTypes=Object(external_kbnSharedDeps_React_["useMemo"])((function(){var result=["any"];if(Array.isArray(fields)){var _iterator=discover_sidebar_createForOfIteratorHelper(fields),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _field=_step.value;if(result.indexOf(_field.type)===-1){result.push(_field.type)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return result}),[fields]);if(!selectedIndexPattern||!fields){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement("section",{className:"sidebar-list","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"})},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{selectedIndexPattern:selectedIndexPattern,setIndexPattern:setIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_["sortBy"])(indexPatternList,(function(o){return o.attributes.title}))}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement("form",null,external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldSearch,{onChange:onChangeFieldSearch,value:fieldFilterState.name,types:fieldTypes}))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"sidebar-list"},fields.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",id:"selected_fields"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.selectedFieldsTitle",defaultMessage:"Selected fields"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscSidebarList dscFieldList--selected","aria-labelledby":"selected_fields","data-test-subj":"fieldList-selected"},selectedFields.map((function(field){return external_kbnSharedDeps_React_default.a.createElement("li",{key:"field".concat(field.name),"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,selected:true,useShortDots:useShortDots}))}))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFlexGroup euiFlexGroup--gutterMedium"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",id:"available_fields",className:"euiFlexItem"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.availableFieldsTitle",defaultMessage:"Available fields"}))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFlexItem euiFlexItem--flexGrowZero"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{className:"visible-xs visible-sm dscFieldChooser__toggle",iconType:showFields?"arrowDown":"arrowRight",onClick:function onClick(){return setShowFields(!showFields)},"aria-label":showFields?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionHideAriaLabel",{defaultMessage:"Hide fields"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionShowAriaLabel",{defaultMessage:"Show fields"})})))),popularFields.length>0&&external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",className:"dscFieldListHeader ".concat(!showFields?"hidden-sm hidden-xs":"")},external_kbnSharedDeps_React_default.a.createElement("h4",{style:{fontWeight:"normal"},id:"available_fields_popular"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.popularTitle",defaultMessage:"Popular"}))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--popular ".concat(!showFields?"hidden-sm hidden-xs":""),"aria-labelledby":"available_fields available_fields_popular","data-test-subj":"fieldList-popular"},popularFields.map((function(field){return external_kbnSharedDeps_React_default.a.createElement("li",{key:"field".concat(field.name),"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,useShortDots:useShortDots}))})))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--unpopular ".concat(!showFields?"hidden-sm hidden-xs":""),"aria-labelledby":"available_fields","data-test-subj":"fieldList-unpopular"},unpopularFields.map((function(field){return external_kbnSharedDeps_React_default.a.createElement("li",{key:"field".concat(field.name),"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,useShortDots:useShortDots}))}))))))}var no_results=__webpack_require__(541);var uninitialized=__webpack_require__(542);var histogram=__webpack_require__(543);function LoadingSpinner(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":"loadingSpinnerText"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.searchingTitle",defaultMessage:"Searching"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l","data-test-subj":"loadingSpinner"}))}var external_kbnSharedDeps_ReactDom_=__webpack_require__(101);function create_doc_table_react_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function create_doc_table_react_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){create_doc_table_react_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){create_doc_table_react_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function injectAngularElement(_x,_x2,_x3,_x4){return _injectAngularElement.apply(this,arguments)}function _injectAngularElement(){_injectAngularElement=create_doc_table_react_asyncToGenerator(regeneratorRuntime.mark((function _callee(domNode,template,scopeProps,getInjector){var $injector,rootScope,$compile,newScope,$target,$element;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getInjector();case 2:$injector=_context.sent;rootScope=$injector.get("$rootScope");$compile=$injector.get("$compile");newScope=Object.assign(rootScope.$new(),scopeProps);$target=external_kbnSharedDeps_Angular_default.a.element(domNode);$element=external_kbnSharedDeps_Angular_default.a.element(template);newScope.$apply((function(){var linkFn=$compile($element);$target.empty().append($element);linkFn(newScope)}));return _context.abrupt("return",(function(){newScope.$destroy()}));case 10:case"end":return _context.stop()}}}),_callee)})));return _injectAngularElement.apply(this,arguments)}function convertDirectiveToRenderFn(directive,getInjector){return function(domNode,props){var rejected=false;var cleanupFnPromise=injectAngularElement(domNode,directive.template,props,getInjector);cleanupFnPromise.catch((function(){rejected=true;Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement("div",null,"error"),domNode)}));return function(){if(!rejected){cleanupFnPromise.then((function(cleanup){return cleanup()}))}}}}function DocTableLegacy(renderProps){var renderFn=convertDirectiveToRenderFn({template:'<doc-table\n                columns="columns"\n                data-description="{{searchDescription}}"\n                data-shared-item\n                data-test-subj="discoverDocTable"\n                data-title="{{searchTitle}}"\n                filter="onFilter"\n                hits="rows"\n                index-pattern="indexPattern"\n                infinite-scroll="true"\n                minimum-visible-rows="minimumVisibleRows"\n                on-add-column="onAddColumn"\n                on-change-sort-order="onSort"\n                on-move-column="onMoveColumn"\n                on-remove-column="onRemoveColumn"\n                render-complete\n                sorting="sort"></doc_table>'},(function(){return Object(discover_kibana_services["e"])().getEmbeddableInjector()}));var ref=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])((function(){if(ref&&ref.current){return renderFn(ref.current,renderProps)}}),[renderFn,renderProps]);return external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref})}function SkipBottomButton(_ref){var _onClick=_ref.onClick;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSkipLink"],{size:"s",onClick:function onClick(event){event.preventDefault();_onClick()},className:"dscSkipButton",destinationId:"","data-test-subj":"discoverSkipTableButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.skipToBottomButtonLabel",defaultMessage:"Skip to end of table"})))}function discover_legacy_slicedToArray(arr,i){return discover_legacy_arrayWithHoles(arr)||discover_legacy_iterableToArrayLimit(arr,i)||discover_legacy_unsupportedIterableToArray(arr,i)||discover_legacy_nonIterableRest()}function discover_legacy_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function discover_legacy_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return discover_legacy_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return discover_legacy_arrayLikeToArray(o,minLen)}function discover_legacy_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function discover_legacy_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function discover_legacy_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DiscoverLegacy(_ref){var _vis$data,_vis$data$aggs,_bucketAggConfig$buck;var addColumn=_ref.addColumn,fetch=_ref.fetch,fetchCounter=_ref.fetchCounter,fieldCounts=_ref.fieldCounts,histogramData=_ref.histogramData,hits=_ref.hits,indexPattern=_ref.indexPattern,minimumVisibleRows=_ref.minimumVisibleRows,onAddFilter=_ref.onAddFilter,onChangeInterval=_ref.onChangeInterval,onMoveColumn=_ref.onMoveColumn,onRemoveColumn=_ref.onRemoveColumn,onSkipBottomButtonClick=_ref.onSkipBottomButtonClick,onSort=_ref.onSort,opts=_ref.opts,resetQuery=_ref.resetQuery,resultState=_ref.resultState,rows=_ref.rows,searchSource=_ref.searchSource,setIndexPattern=_ref.setIndexPattern,showSaveQuery=_ref.showSaveQuery,state=_ref.state,timefilterUpdateHandler=_ref.timefilterUpdateHandler,timeRange=_ref.timeRange,topNavMenu=_ref.topNavMenu,updateQuery=_ref.updateQuery,updateSavedQueryId=_ref.updateSavedQueryId,vis=_ref.vis,showMain=_ref.showMain;var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=discover_legacy_slicedToArray(_useState,2),isSidebarClosed=_useState2[0],setIsSidebarClosed=_useState2[1];var TopNavMenu=Object(discover_kibana_services["e"])().navigation.ui.TopNavMenu;var savedSearch=opts.savedSearch,indexPatternList=opts.indexPatternList;var bucketAggConfig=vis===null||vis===void 0?void 0:(_vis$data=vis.data)===null||_vis$data===void 0?void 0:(_vis$data$aggs=_vis$data.aggs)===null||_vis$data$aggs===void 0?void 0:_vis$data$aggs.aggs[1];var bucketInterval=bucketAggConfig&&data_public["m"].aggs.isDateHistogramBucketAggConfig(bucketAggConfig)?(_bucketAggConfig$buck=bucketAggConfig.buckets)===null||_bucketAggConfig$buck===void 0?void 0:_bucketAggConfig$buck.getInterval():undefined;var _useState3=Object(external_kbnSharedDeps_React_["useState"])(),_useState4=discover_legacy_slicedToArray(_useState3,2),fixedScrollEl=_useState4[0],setFixedScrollEl=_useState4[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){return fixedScrollEl?opts.fixedScroll(fixedScrollEl):undefined}),[fixedScrollEl,opts]);var fixedScrollRef=Object(external_kbnSharedDeps_React_["useCallback"])((function(node){if(node!==null){setFixedScrollEl(node)}}),[setFixedScrollEl]);var sidebarClassName=classnames_default()({closed:isSidebarClosed});var mainSectionClassName=classnames_default()({"col-md-10":!isSidebarClosed,"col-md-12":isSidebarClosed});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscAppContainer","data-fetch-counter":fetchCounter},external_kbnSharedDeps_React_default.a.createElement("h1",{className:"euiScreenReaderOnly"},savedSearch.title),external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,{appName:"discover",config:topNavMenu,indexPatterns:[indexPattern],onQuerySubmit:updateQuery,onSavedQueryIdChange:updateSavedQueryId,query:state.query,setMenuMountPoint:opts.setHeaderActionMenu,savedQueryId:state.savedQuery,screenTitle:savedSearch.title,showDatePicker:indexPattern.isTimeBased(),showSaveQuery:showSaveQuery,showSearchBar:true,useDefaultBehaviors:true}),showMain&&external_kbnSharedDeps_React_default.a.createElement("main",{className:"container-fluid"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"row"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"col-md-2 dscSidebar__container dscCollapsibleSidebar ".concat(sidebarClassName),id:"discover-sidebar","data-test-subj":"discover-sidebar"},!isSidebarClosed&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldChooser"},external_kbnSharedDeps_React_default.a.createElement(DiscoverSidebar,{columns:state.columns||[],fieldCounts:fieldCounts,hits:rows,indexPatternList:indexPatternList,onAddField:addColumn,onAddFilter:onAddFilter,onRemoveField:onRemoveColumn,selectedIndexPattern:searchSource&&searchSource.getField("index"),setIndexPattern:setIndexPattern})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:isSidebarClosed?"menuRight":"menuLeft",iconSize:"m",size:"s",onClick:function onClick(){return setIsSidebarClosed(!isSidebarClosed)},"data-test-subj":"collapseSideBarButton","aria-controls":"discover-sidebar","aria-expanded":isSidebarClosed?"false":"true","aria-label":"Toggle sidebar",className:"dscCollapsibleSidebar__collapseButton"})),external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscWrapper ".concat(mainSectionClassName)},resultState==="none"&&external_kbnSharedDeps_React_default.a.createElement(no_results["a"],{timeFieldName:opts.timefield,queryLanguage:state.query?state.query.language:""}),resultState==="uninitialized"&&external_kbnSharedDeps_React_default.a.createElement(uninitialized["a"],{onRefresh:fetch}),external_kbnSharedDeps_React_default.a.createElement("span",{style:{display:resultState!=="loading"?"none":""}},external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscOverlay"},external_kbnSharedDeps_React_default.a.createElement(LoadingSpinner,null))),resultState==="ready"&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscWrapper__content"},external_kbnSharedDeps_React_default.a.createElement(SkipBottomButton,{onClick:onSkipBottomButtonClick}),external_kbnSharedDeps_React_default.a.createElement(HitsCounter,{hits:hits>0?hits:0,showResetButton:!!(savedSearch&&savedSearch.id),onResetQuery:resetQuery}),opts.timefield&&external_kbnSharedDeps_React_default.a.createElement(TimechartHeader,{dateFormat:opts.config.get("dateFormat"),timeRange:timeRange,options:data_public["m"].aggs.intervalOptions,onChangeInterval:onChangeInterval,stateInterval:state.interval||"",bucketInterval:bucketInterval}),opts.timefield&&external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.histogramOfFoundDocumentsAriaLabel",{defaultMessage:"Histogram of found documents"}),className:"dscTimechart"},vis&&rows.length!==0&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscHistogram","data-test-subj":"discoverChart"},external_kbnSharedDeps_React_default.a.createElement(histogram["a"],{chartData:histogramData,timefilterUpdateHandler:timefilterUpdateHandler}))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscResults"},external_kbnSharedDeps_React_default.a.createElement("section",{className:"dscTable dscTableFixedScroll","aria-labelledby":"documentsAriaLabel",ref:fixedScrollRef},external_kbnSharedDeps_React_default.a.createElement("h2",{className:"euiScreenReaderOnly",id:"documentsAriaLabel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.documentsAriaLabel",defaultMessage:"Documents"})),rows&&rows.length&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscDiscover"},external_kbnSharedDeps_React_default.a.createElement(DocTableLegacy,{columns:state.columns||[],indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,rows:rows,sort:state.sort||[],searchDescription:opts.savedSearch.description,searchTitle:opts.savedSearch.lastSavedTitle,onAddColumn:addColumn,onFilter:onAddFilter,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onSort:onSort}),external_kbnSharedDeps_React_default.a.createElement("a",{tabIndex:0,id:"discoverBottomMarker"},"​"),rows.length===opts.sampleSize&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscTable__footer","data-test-subj":"discoverDocTableFooter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.howToSeeOtherMatchingDocumentsDescription",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:opts.sampleSize}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:function onClick(){return window.scrollTo(0,0)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))))))))))))}function createDiscoverLegacyDirective(reactDirective){return reactDirective(DiscoverLegacy,[["addColumn",{watchDepth:"reference"}],["fetch",{watchDepth:"reference"}],["fetchCounter",{watchDepth:"reference"}],["fetchError",{watchDepth:"reference"}],["fieldCounts",{watchDepth:"reference"}],["histogramData",{watchDepth:"reference"}],["hits",{watchDepth:"reference"}],["indexPattern",{watchDepth:"reference"}],["minimumVisibleRows",{watchDepth:"reference"}],["onAddFilter",{watchDepth:"reference"}],["onChangeInterval",{watchDepth:"reference"}],["onMoveColumn",{watchDepth:"reference"}],["onRemoveColumn",{watchDepth:"reference"}],["onSetColumns",{watchDepth:"reference"}],["onSkipBottomButtonClick",{watchDepth:"reference"}],["onSort",{watchDepth:"reference"}],["opts",{watchDepth:"reference"}],["resetQuery",{watchDepth:"reference"}],["resultState",{watchDepth:"reference"}],["rows",{watchDepth:"reference"}],["savedSearch",{watchDepth:"reference"}],["searchSource",{watchDepth:"reference"}],["setIndexPattern",{watchDepth:"reference"}],["showSaveQuery",{watchDepth:"reference"}],["state",{watchDepth:"reference"}],["timefilterUpdateHandler",{watchDepth:"reference"}],["timeRange",{watchDepth:"reference"}],["topNavMenu",{watchDepth:"reference"}],["updateQuery",{watchDepth:"reference"}],["updateSavedQueryId",{watchDepth:"reference"}],["vis",{watchDepth:"reference"}],["showMain",{watchDepth:"reference"}]])}var context_error_message=__webpack_require__(725);function getInnerAngularModule(name,core,deps,context){Object(kibana_legacy_public["i"])();var module=initializeInnerAngularModule(name,deps.navigation);Object(kibana_legacy_public["d"])(module,{core:core,env:context.env},true,kibana_services["l"]);return module}var initialized=false;function initializeInnerAngularModule(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"app/wazuh";var navigation=arguments.length>1?arguments[1]:undefined;if(!initialized){createLocalI18nModule();createLocalPrivateModule();createLocalPromiseModule();createLocalTopNavModule(navigation);createLocalStorageModule();initialized=true}var discoverModule=external_kbnSharedDeps_Angular_default.a.module("app/discover",["discoverI18n","discoverPrivate","discoverPromise","discoverTopNav","discoverLocalStorageProvider"]);Object(kibana_services["u"])(discoverModule);return external_kbnSharedDeps_Angular_default.a.module(name,["ngSanitize","ngRoute","react","ngMaterial","chart.js","ui.bootstrap","app/discover"]).config(kibana_legacy_public["l"]).run(kibana_legacy_public["j"]).directive("discoverLegacy",createDiscoverLegacyDirective).directive("icon",(function(reactDirective){return reactDirective(external_kbnSharedDeps_ElasticEui_["EuiIcon"])})).directive("contextErrorMessage",context_error_message["a"])}function createLocalPromiseModule(){external_kbnSharedDeps_Angular_default.a.module("discoverPromise",[]).service("Promise",kibana_legacy_public["b"])}function createLocalPrivateModule(){external_kbnSharedDeps_Angular_default.a.module("discoverPrivate",[]).provider("Private",kibana_legacy_public["a"])}function createLocalTopNavModule(navigation){external_kbnSharedDeps_Angular_default.a.module("discoverTopNav",["react"]).directive("kbnTopNav",kibana_legacy_public["e"]).directive("kbnTopNavHelper",Object(kibana_legacy_public["f"])(navigation.ui))}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("discoverI18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}function createLocalStorageModule(){external_kbnSharedDeps_Angular_default.a.module("discoverLocalStorageProvider",["discoverPrivate"]).service("localStorage",get_inner_angular_createLocalStorageService("localStorage")).service("sessionStorage",get_inner_angular_createLocalStorageService("sessionStorage"))}var get_inner_angular_createLocalStorageService=function createLocalStorageService(type){return function($window){return new kibana_utils_public["e"]($window[type])}}},804:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(805);case"v7light":return __webpack_require__(807);case"v8dark":return __webpack_require__(809);case"v8light":return __webpack_require__(811)}},805:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(806);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},806:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar__container {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  background-color: transparent;\n  border-right-color: transparent;\n  border-bottom-color: transparent; }\n\n.dscIndexPattern__container {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin-top: -8px; }\n\n.dscIndexPattern__triggerButton {\n  color: #DFE5EF;\n  font-size: 16px;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  font-weight: 600;\n  letter-spacing: -0.02em;\n  line-height: 40px; }\n\n.dscFieldList {\n  list-style: none;\n  margin-bottom: 0; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #343741; }\n\n.dscFieldList--popular {\n  background-color: #343741; }\n\n.dscFieldChooser {\n  padding-left: 16px; }\n\n.dscFieldChooser__toggle {\n  color: #535966;\n  margin-left: 8px !important; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */\n  transition: none;\n  font-size: 12px;\n  padding: 2px 6px !important;\n  height: 22px !important;\n  min-width: auto !important; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n  .dscSidebarItem__action .euiButton__content {\n    padding: 0 4px; }\n\n.dscFieldSearch {\n  padding: 8px; }\n\n.dscFieldSearch__toggleButton {\n  width: calc(100% - 8px);\n  color: #1BA9F5;\n  padding-left: 4px;\n  margin-left: 4px; }\n\n.dscFieldSearch__filterWrapper {\n  flex-grow: 0; }\n\n.dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldDetails {\n  color: #DFE5EF;\n  margin-bottom: 8px; }\n",""]);module.exports=exports},807:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(808);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},808:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar__container {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  background-color: transparent;\n  border-right-color: transparent;\n  border-bottom-color: transparent; }\n\n.dscIndexPattern__container {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin-top: -8px; }\n\n.dscIndexPattern__triggerButton {\n  color: #1a1c21;\n  font-size: 16px;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  font-weight: 600;\n  letter-spacing: -0.02em;\n  line-height: 40px; }\n\n.dscFieldList {\n  list-style: none;\n  margin-bottom: 0; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #e6f0f8; }\n\n.dscFieldList--popular {\n  background-color: #e6f0f8; }\n\n.dscFieldChooser {\n  padding-left: 16px; }\n\n.dscFieldChooser__toggle {\n  color: #98A2B3;\n  margin-left: 8px !important; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */\n  transition: none;\n  font-size: 12px;\n  padding: 2px 6px !important;\n  height: 22px !important;\n  min-width: auto !important; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n  .dscSidebarItem__action .euiButton__content {\n    padding: 0 4px; }\n\n.dscFieldSearch {\n  padding: 8px; }\n\n.dscFieldSearch__toggleButton {\n  width: calc(100% - 8px);\n  color: #006BB4;\n  padding-left: 4px;\n  margin-left: 4px; }\n\n.dscFieldSearch__filterWrapper {\n  flex-grow: 0; }\n\n.dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldDetails {\n  color: #343741;\n  margin-bottom: 8px; }\n",""]);module.exports=exports},809:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(810);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},810:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar__container {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  background-color: transparent;\n  border-right-color: transparent;\n  border-bottom-color: transparent; }\n\n.dscIndexPattern__container {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin-top: -8px; }\n\n.dscIndexPattern__triggerButton {\n  color: #DFE5EF;\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem;\n  font-weight: 700;\n  line-height: 40px; }\n\n.dscFieldList {\n  list-style: none;\n  margin-bottom: 0; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #343741; }\n\n.dscFieldList--popular {\n  background-color: #343741; }\n\n.dscFieldChooser {\n  padding-left: 16px; }\n\n.dscFieldChooser__toggle {\n  color: #535966;\n  margin-left: 8px !important; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */\n  transition: none;\n  font-size: 12px;\n  padding: 2px 6px !important;\n  height: 22px !important;\n  min-width: auto !important; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n  .dscSidebarItem__action .euiButton__content {\n    padding: 0 4px; }\n\n.dscFieldSearch {\n  padding: 8px; }\n\n.dscFieldSearch__toggleButton {\n  width: calc(100% - 8px);\n  color: #238CFF;\n  padding-left: 4px;\n  margin-left: 4px; }\n\n.dscFieldSearch__filterWrapper {\n  flex-grow: 0; }\n\n.dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldDetails {\n  color: #DFE5EF;\n  margin-bottom: 8px; }\n",""]);module.exports=exports},811:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(812);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},812:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar__container {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  background-color: transparent;\n  border-right-color: transparent;\n  border-bottom-color: transparent; }\n\n.dscIndexPattern__container {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin-top: -8px; }\n\n.dscIndexPattern__triggerButton {\n  color: #1a1c21;\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem;\n  font-weight: 700;\n  line-height: 40px; }\n\n.dscFieldList {\n  list-style: none;\n  margin-bottom: 0; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #e6f0fc; }\n\n.dscFieldList--popular {\n  background-color: #e6f0fc; }\n\n.dscFieldChooser {\n  padding-left: 16px; }\n\n.dscFieldChooser__toggle {\n  color: #98A2B3;\n  margin-left: 8px !important; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */\n  transition: none;\n  font-size: 12px;\n  padding: 2px 6px !important;\n  height: 22px !important;\n  min-width: auto !important; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n  .dscSidebarItem__action .euiButton__content {\n    padding: 0 4px; }\n\n.dscFieldSearch {\n  padding: 8px; }\n\n.dscFieldSearch__toggleButton {\n  width: calc(100% - 8px);\n  color: #006DE4;\n  padding-left: 4px;\n  margin-left: 4px; }\n\n.dscFieldSearch__filterWrapper {\n  flex-grow: 0; }\n\n.dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldDetails {\n  color: #343741;\n  margin-bottom: 8px; }\n",""]);module.exports=exports},813:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(814);case"v7light":return __webpack_require__(816);case"v8dark":return __webpack_require__(818);case"v8light":return __webpack_require__(820)}},814:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(815);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},815:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},816:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(817);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},817:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},818:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(819);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},819:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},820:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(821);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},821:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},881:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(882);case"v7light":return __webpack_require__(884);case"v8dark":return __webpack_require__(886);case"v8light":return __webpack_require__(888)}},882:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(883);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},883:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.75rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},884:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(885);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},885:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.75rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},886:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(887);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},887:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.85714rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},888:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(889);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},889:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.85714rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},890:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(891);case"v7light":return __webpack_require__(893);case"v8dark":return __webpack_require__(895);case"v8light":return __webpack_require__(897)}},891:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(892);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},892:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n",""]);module.exports=exports},893:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(894);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},894:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n",""]);module.exports=exports},895:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(896);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},896:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n",""]);module.exports=exports},897:function(module,exports,__webpack_require__){var api=__webpack_require__(116);var content=__webpack_require__(898);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},898:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(117);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n",""]);module.exports=exports}}]);